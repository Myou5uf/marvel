"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[110],{7112:function(e,n,r){r.d(n,{Z:function(){return s}});r(2791);var a=r.p+"static/media/error.42292aa12b6bc303ce99.gif",t=r(184),s=function(e){var n=e.error;return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"5px 10px"},children:[(0,t.jsx)("p",{style:{fontSize:"24px",color:"red"},children:n}),(0,t.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:a,alt:"ErrorPage message"})]})}},1302:function(e,n,r){r.d(n,{i:function(){return i}});var a=r(4165),t=r(5861),s=r(885),c=r(2791),i=function(e){var n=(0,c.useState)(!1),r=(0,s.Z)(n,2),i=r[0],l=r[1],o=(0,c.useState)(""),u=(0,s.Z)(o,2),d=u[0],m=u[1],h=(0,c.useCallback)((0,t.Z)((0,a.Z)().mark((function n(){var r=arguments;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l(!0),n.next=4,e.apply(void 0,r);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),m(n.t0.message);case 9:return n.prev=9,l(!1),n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[0,6,9,12]])}))),[]);return[h,i,d,(0,c.useCallback)((function(){return m("")}),[])]}},8501:function(e,n,r){r.r(n),r.d(n,{default:function(){return K}});var a=r(885),t=r(2791),s=r(4165),c=r(5861),i=r.p+"static/media/mjolnir.61f31e1809f12183a524.png",l=r(6945),o=r(4197),u=r(7112),d=r(1302),m=r(184),h=function(e){var n=e.character,r=n.name,a=n.thumbnail,t=n.description,s=n.homepage,c=n.wiki;return(0,m.jsxs)("div",{className:"randomchar__block",children:[(0,m.jsx)("img",{style:null!==a&&void 0!==a&&a.includes("image_not_available")?{objectFit:"contain"}:null,src:a,alt:"Random character",className:"randomchar__img"}),(0,m.jsxs)("div",{className:"randomchar__info",children:[(0,m.jsx)("p",{className:"randomchar__name",children:r}),(0,m.jsx)("p",{className:"randomchar__descr",children:t?t.slice(0,120)+"...":"\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f"}),(0,m.jsxs)("div",{className:"randomchar__btns",children:[(0,m.jsx)("a",{href:s,className:"button button__main",children:(0,m.jsx)("div",{className:"inner",children:"homepage"})}),(0,m.jsx)("a",{href:c,className:"button button__secondary",children:(0,m.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})},f=function(){var e,n=(0,t.useState)({}),r=(0,a.Z)(n,2),f=r[0],p=r[1],x=(0,d.i)((0,c.Z)((0,s.Z)().mark((function e(){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(),n=Math.floor(400*Math.random()+1011e3),e.next=4,l.Z.getCharacter(n);case 4:r=e.sent,p(r);case 6:case"end":return e.stop()}}),e)})))),_=(0,a.Z)(x,4),v=_[0],j=_[1],b=_[2],Z=_[3];(0,t.useEffect)((function(){return v(),e=setInterval(v,6e3),function(){clearInterval(e)}}),[]);var g=b?(0,m.jsx)(u.Z,{error:b}):null,N=j?(0,m.jsx)(o.Z,{}):null,y=j||b?null:(0,m.jsx)(h,{character:f});return(0,m.jsxs)("div",{className:"randomchar",children:[g,N,y,(0,m.jsxs)("div",{className:"randomchar__static",children:[(0,m.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",(0,m.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,m.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),(0,m.jsx)("button",{className:"button button__main",onClick:function(){v()},children:(0,m.jsx)("div",{className:"inner",children:"try it"})}),(0,m.jsx)("img",{src:i,alt:"mjolnir",className:"randomchar__decoration"})]})]})},p=r(2982),x=r(5660),_=r(6983),v=function(e){var n=e.characters,r=e.selectedCharacterId,a=e.setSelectedCharacterId;return(0,m.jsx)("ul",{className:"char__grid",children:(0,m.jsx)(x.Z,{component:null,children:n.map((function(e,n){var t=["char__item"];return r===e.id&&t.push("char__item_selected"),(0,m.jsx)(_.Z,{timeout:500,classNames:"char__item",children:(0,m.jsxs)("li",{className:t.join(" "),tabIndex:n,onClick:function(){return a(e.id)},onKeyDown:function(n){"Tab"!==n.key&&"Enter"!==n.key||a(e.id)},children:[(0,m.jsx)("img",{style:e.thumbnail.includes("image_not_available")?{objectFit:"unset"}:null,src:e.thumbnail,alt:"abyss"}),(0,m.jsx)("div",{className:"char__name",children:e.name})]})},e.id)}))})})},j=function(e){var n=e.selectedCharacterId,r=e.setSelectedCharacterId,i=e.setVisibleBgImage,h=(0,t.useState)([]),f=(0,a.Z)(h,2),x=f[0],_=f[1],j=(0,t.useState)(!1),b=(0,a.Z)(j,2),Z=b[0],g=b[1],N=(0,t.useState)(9),y=(0,a.Z)(N,2),k=y[0],C=(y[1],(0,t.useState)(210)),w=(0,a.Z)(C,2),S=w[0],I=w[1],B=(0,t.useState)(!1),E=(0,a.Z)(B,2),F=E[0],K=E[1],P=(0,d.i)((0,c.Z)((0,s.Z)().mark((function e(){var n,r,a,t,c=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:9,r=c.length>1&&void 0!==c[1]?c[1]:210,a=c.length>2&&void 0!==c[2]&&c[2],g(!a),e.next=6,l.Z.getCharacters(n,r);case 6:t=e.sent,q(t),g(!1),i(!0);case 10:case"end":return e.stop()}}),e)})))),T=(0,a.Z)(P,3),D=T[0],V=T[1],R=T[2];(0,t.useEffect)((function(){D(k,S,!0)}),[]);var q=function(e){var n=!1;e.length<9&&(n=!0),_((function(n){return[].concat((0,p.Z)(n),(0,p.Z)(e))})),I((function(e){return e+k})),K(n)},M=R?(0,m.jsx)(u.Z,{error:R}):null,O=V&&!Z?(0,m.jsx)(o.Z,{}):null;return(0,m.jsxs)("div",{className:"char__list",children:[M,O,(0,m.jsx)(v,{characters:x,selectedCharacterId:n,setSelectedCharacterId:r}),(0,m.jsx)("button",{className:"button button__main button__long",disabled:Z,onClick:function(){return D(k,S,!1)},style:{display:F?"none":"block"},children:(0,m.jsx)("div",{className:"inner",children:"load more"})})]})},b=r(5671),Z=r(3144),g=r(136),N=r(7277),y=function(e){(0,g.Z)(r,e);var n=(0,N.Z)(r);function r(e){var a;return(0,b.Z)(this,r),(a=n.call(this,e)).state={hasError:!1},a}return(0,Z.Z)(r,[{key:"componentDidCatch",value:function(e,n){console.log(e,n)}},{key:"render",value:function(){return this.state.hasError?(0,m.jsx)("h1",{children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(t.Component),k=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,m.jsxs)("div",{className:"skeleton",children:[(0,m.jsxs)("div",{className:"pulse skeleton__header",children:[(0,m.jsx)("div",{className:"pulse skeleton__circle"}),(0,m.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,m.jsx)("div",{className:"pulse skeleton__block"}),(0,m.jsx)("div",{className:"pulse skeleton__block"}),(0,m.jsx)("div",{className:"pulse skeleton__block"})]})]})},C=function(e){var n,r=e.character;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"char__basics",children:[(0,m.jsx)("img",{style:null!==(n=r.thumbnail)&&void 0!==n&&n.includes("image_not_available")?{objectFit:"contain"}:null,src:r.thumbnail,alt:"abyss"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"char__info-name",children:r.name}),(0,m.jsxs)("div",{className:"char__btns",children:[(0,m.jsx)("a",{href:r.homepage,className:"button button__main",children:(0,m.jsx)("div",{className:"inner",children:"homepage"})}),(0,m.jsx)("a",{href:r.wiki,className:"button button__secondary",children:(0,m.jsx)("div",{className:"inner",children:"wiki"})})]})]})]}),(0,m.jsx)("div",{className:"char__descr",children:r.description}),(0,m.jsx)("div",{className:"char__comics",children:"Comics:"}),(0,m.jsxs)("ul",{className:"char__comics-list",children:[r.comics.length?null:"There is no comics with this character",r.comics.map((function(e,n){return(0,m.jsx)("li",{className:"char__comics-item",children:e.name},n)}))]})]})},w=function(e){var n=e.selectedCharacterId,r=(0,t.useState)(null),i=(0,a.Z)(r,2),h=i[0],f=i[1],p=(0,d.i)(function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return b(),e.next=5,l.Z.getCharacter(n);case 5:r=e.sent,f(r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),x=(0,a.Z)(p,4),_=x[0],v=x[1],j=x[2],b=x[3];(0,t.useEffect)((function(){_(n)}),[n]);var Z=h||v||j?null:(0,m.jsx)(k,{}),g=j?(0,m.jsx)(u.Z,{error:j}):null,N=v?(0,m.jsx)(o.Z,{}):null,y=v||j||!h?null:(0,m.jsx)(C,{character:h});return(0,m.jsxs)("div",{className:"char__info",children:[Z,g,N,y]})},S=r.p+"static/media/vision.067d4ae1936d64a577ce.png",I=r(5705),B=r(7103),E=r(1087),F=function(){var e=(0,t.useState)(null),n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,d.i)(function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return _(),e.next=5,l.Z.getCharacterByName(n);case 5:r=e.sent,i(r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),h=(0,a.Z)(o,4),f=h[0],p=h[1],x=h[2],_=h[3],v=x?(0,m.jsx)("div",{className:"form__error",children:(0,m.jsx)(u.Z,{error:x})}):null,j=r?r.length>0?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"form__success",children:["There is! Visit ",r[0].name," page?"]}),(0,m.jsx)(E.rU,{to:"/characters/".concat(r[0].id),className:"button button__secondary",children:(0,m.jsx)("div",{className:"inner",children:"To page"})})]}):(0,m.jsx)("div",{className:"form__not-found",children:"The character was not found. Check the name and try again"}):null;return(0,m.jsx)(I.J9,{initialValues:{name:""},validationSchema:(0,B.Ry)({name:(0,B.Z_)().min(1,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 1 \u0441\u0438\u043c\u0432\u043e\u043b").required("This field is required")}),onSubmit:function(e){var n=e.name;return f(n)},children:(0,m.jsxs)(I.l0,{className:"form",children:[(0,m.jsx)("label",{className:"form__title",children:"Or find a character by name:"}),(0,m.jsxs)("div",{className:"form__wrapper",children:[(0,m.jsx)(I.gN,{type:"text",name:"name",className:"form__input",placeholder:"Enter name"}),(0,m.jsx)("button",{className:"button button__main",type:"submit",disabled:p,children:(0,m.jsx)("div",{className:"inner",children:"find"})})]}),(0,m.jsxs)("div",{className:"form__result",children:[j?null:(0,m.jsx)(I.Bc,{component:"div",className:"form__validate",name:"name"}),v,j]})]})})},K=function(){var e=(0,t.useState)(null),n=(0,a.Z)(e,2),r=n[0],s=n[1],c=(0,t.useState)(!1),i=(0,a.Z)(c,2),l=i[0],o=i[1];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f,{}),(0,m.jsxs)("div",{className:"char__content",children:[(0,m.jsx)(j,{selectedCharacterId:r,setSelectedCharacterId:function(e){return s(e)},setVisibleBgImage:function(e){return o(e)}}),(0,m.jsxs)("div",{children:[(0,m.jsx)(y,{children:(0,m.jsx)(w,{selectedCharacterId:r})}),(0,m.jsx)("div",{className:"char__form",style:{marginTop:"30px"},children:(0,m.jsx)(y,{children:(0,m.jsx)(F,{})})})]})]}),(0,m.jsx)("img",{style:l?null:{display:"none"},className:"bg-decoration",src:S,alt:"vision"})]})}},6945:function(e,n,r){r.d(n,{Z:function(){return l}});var a=r(4165),t=r(5861),s=r(5671),c=r(3144),i=r(1044),l=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,null,[{key:"getCharacters",value:function(){var n=(0,t.Z)((0,a.Z)().mark((function n(){var r,t,s,c=arguments;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:9,t=c.length>1&&void 0!==c[1]?c[1]:210,n.next=4,i.ZP.get("".concat(e._apiBase,"characters?limit=").concat(r,"&offset=").concat(t,"&").concat(e._apiKey));case 4:return s=n.sent,n.abrupt("return",s.data.data.results.map((function(n){return e._transformCharacter(n)})));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{key:"getCharacter",value:function(){var n=(0,t.Z)((0,a.Z)().mark((function n(r){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.ZP.get("".concat(e._apiBase,"characters/").concat(r,"?").concat(e._apiKey));case 2:return t=n.sent,n.abrupt("return",e._transformCharacter(t.data.data.results[0]));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},{key:"getCharacterByName",value:function(){var n=(0,t.Z)((0,a.Z)().mark((function n(r){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.ZP.get("".concat(e._apiBase,"characters?name=").concat(r,"&").concat(e._apiKey));case 2:return t=n.sent,n.abrupt("return",t.data.data.results);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},{key:"getAllComics",value:function(){var n=(0,t.Z)((0,a.Z)().mark((function n(){var r,t,s,c=arguments;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:8,t=c.length>1&&void 0!==c[1]?c[1]:210,n.next=4,i.ZP.get("".concat(e._apiBase,"comics?limit=").concat(r,"&offset=").concat(t,"&").concat(e._apiKey));case 4:return s=n.sent,n.abrupt("return",s.data.data.results.map((function(n){return e._transformComics(n)})));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{key:"getComics",value:function(){var n=(0,t.Z)((0,a.Z)().mark((function n(r){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.ZP.get("".concat(e._apiBase,"comics/").concat(r,"?").concat(e._apiKey));case 2:return t=n.sent,n.abrupt("return",e._transformComics(t.data.data.results[0]));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}]),e}();l._apiBase="https://gateway.marvel.com:443/v1/public/",l._apiKey="apikey=14c80cf078481fb3ded0db419a38bd66",l._transformCharacter=function(e){return{id:e.id,name:e.name,description:e.description,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}},l._transformComics=function(e){return{id:e.id,title:e.title,issueNumber:e.issueNumber,description:e.description,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,price:e.prices[0].price,pageCount:e.pageCount}}}}]);
//# sourceMappingURL=110.3dc6e9f6.chunk.js.map