"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[671],{112:function(e,n,t){t.d(n,{Z:function(){return s}});t(791);var a=t.p+"static/media/error.42292aa12b6bc303ce99.gif",r=t(184),s=function(e){var n=e.error;return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"5px 10px"},children:[(0,r.jsx)("p",{style:{fontSize:"24px",color:"red"},children:n}),(0,r.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:a,alt:"ErrorPage message"})]})}},302:function(e,n,t){t.d(n,{i:function(){return i}});var a=t(165),r=t(861),s=t(885),c=t(791),i=function(e){var n=(0,c.useState)(!1),t=(0,s.Z)(n,2),i=t[0],l=t[1],o=(0,c.useState)(""),u=(0,s.Z)(o,2),d=u[0],h=u[1],m=(0,c.useCallback)((0,r.Z)((0,a.Z)().mark((function n(){var t=arguments;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l(!0),n.next=4,e.apply(void 0,t);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),h(n.t0.message);case 9:return n.prev=9,l(!1),n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[0,6,9,12]])}))),[]);return[m,i,d,(0,c.useCallback)((function(){return h("")}),[])]}},387:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var a=t(885),r=t(791),s=t(165),c=t(861),i=t.p+"static/media/mjolnir.61f31e1809f12183a524.png",l=t(945),o=t(197),u=t(112),d=t(302),h=t(184),m=function(e){var n=e.character,t=n.name,a=n.thumbnail,r=n.description,s=n.homepage,c=n.wiki;return(0,h.jsxs)("div",{className:"randomchar__block",children:[(0,h.jsx)("img",{style:null!==a&&void 0!==a&&a.includes("image_not_available")?{objectFit:"contain"}:null,src:a,alt:"Random character",className:"randomchar__img"}),(0,h.jsxs)("div",{className:"randomchar__info",children:[(0,h.jsx)("p",{className:"randomchar__name",children:t}),(0,h.jsx)("p",{className:"randomchar__descr",children:r?r.slice(0,120)+"...":"\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f"}),(0,h.jsxs)("div",{className:"randomchar__btns",children:[(0,h.jsx)("a",{href:s,className:"button button__main",children:(0,h.jsx)("div",{className:"inner",children:"homepage"})}),(0,h.jsx)("a",{href:c,className:"button button__secondary",children:(0,h.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})},f=function(){var e,n=(0,r.useState)({}),t=(0,a.Z)(n,2),f=t[0],p=t[1],v=(0,d.i)((0,c.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(),n=Math.floor(400*Math.random()+1011e3),e.next=4,l.Z.getCharacter(n);case 4:t=e.sent,p(t);case 6:case"end":return e.stop()}}),e)})))),_=(0,a.Z)(v,4),x=_[0],j=_[1],b=_[2],g=_[3];(0,r.useEffect)((function(){return x(),e=setInterval(x,6e3),function(){clearInterval(e)}}),[]);var Z=b?(0,h.jsx)(u.Z,{error:b}):null,k=j?(0,h.jsx)(o.Z,{}):null,N=j||b?null:(0,h.jsx)(m,{character:f});return(0,h.jsxs)("div",{className:"randomchar",children:[Z,k,N,(0,h.jsxs)("div",{className:"randomchar__static",children:[(0,h.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",(0,h.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,h.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),(0,h.jsx)("button",{className:"button button__main",onClick:function(){x()},children:(0,h.jsx)("div",{className:"inner",children:"try it"})}),(0,h.jsx)("img",{src:i,alt:"mjolnir",className:"randomchar__decoration"})]})]})},p=t(982),v=function(e){var n=e.characters,t=e.selectedCharacterId,a=e.setSelectedCharacterId;return(0,h.jsx)("ul",{className:"char__grid",children:n.map((function(e,n){var r=["char__item"];return t===e.id&&r.push("char__item_selected"),(0,h.jsxs)("li",{className:r.join(" "),tabIndex:n,onClick:function(){return a(e.id)},onKeyDown:function(n){"Tab"!==n.key&&"Enter"!==n.key||a(e.id)},children:[(0,h.jsx)("img",{style:e.thumbnail.includes("image_not_available")?{objectFit:"unset"}:null,src:e.thumbnail,alt:"abyss"}),(0,h.jsx)("div",{className:"char__name",children:e.name})]},e.id)}))})},_=function(e){var n=e.selectedCharacterId,t=e.setSelectedCharacterId,i=e.setVisibleBgImage,m=(0,r.useState)([]),f=(0,a.Z)(m,2),_=f[0],x=f[1],j=(0,r.useState)(!1),b=(0,a.Z)(j,2),g=b[0],Z=b[1],k=(0,r.useState)(9),N=(0,a.Z)(k,2),y=N[0],C=(N[1],(0,r.useState)(210)),w=(0,a.Z)(C,2),S=w[0],I=w[1],E=(0,r.useState)(!1),F=(0,a.Z)(E,2),B=F[0],K=F[1],P=(0,d.i)((0,c.Z)((0,s.Z)().mark((function e(){var n,t,a,r,c=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:9,t=c.length>1&&void 0!==c[1]?c[1]:210,a=c.length>2&&void 0!==c[2]&&c[2],Z(!a),e.next=6,l.Z.getCharacters(n,t);case 6:r=e.sent,V(r),Z(!1),i(!0);case 10:case"end":return e.stop()}}),e)})))),D=(0,a.Z)(P,3),M=D[0],R=D[1],T=D[2];(0,r.useEffect)((function(){M(y,S,!0)}),[]);var V=function(e){var n=!1;e.length<9&&(n=!0),x((function(n){return[].concat((0,p.Z)(n),(0,p.Z)(e))})),I((function(e){return e+y})),K(n)},z=T?(0,h.jsx)(u.Z,{error:T}):null,A=R&&!g?(0,h.jsx)(o.Z,{}):null;return(0,h.jsxs)("div",{className:"char__list",children:[z,A,(0,h.jsx)(v,{characters:_,selectedCharacterId:n,setSelectedCharacterId:t}),(0,h.jsx)("button",{className:"button button__main button__long",disabled:g,onClick:function(){return M(y,S,!1)},style:{display:B?"none":"block"},children:(0,h.jsx)("div",{className:"inner",children:"load more"})})]})},x=t(671),j=t(144),b=t(136),g=t(516),Z=function(e){(0,b.Z)(t,e);var n=(0,g.Z)(t);function t(e){var a;return(0,x.Z)(this,t),(a=n.call(this,e)).state={hasError:!1},a}return(0,j.Z)(t,[{key:"componentDidCatch",value:function(e,n){console.log(e,n)}},{key:"render",value:function(){return this.state.hasError?(0,h.jsx)("h1",{children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.Component),k=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,h.jsxs)("div",{className:"skeleton",children:[(0,h.jsxs)("div",{className:"pulse skeleton__header",children:[(0,h.jsx)("div",{className:"pulse skeleton__circle"}),(0,h.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,h.jsx)("div",{className:"pulse skeleton__block"}),(0,h.jsx)("div",{className:"pulse skeleton__block"}),(0,h.jsx)("div",{className:"pulse skeleton__block"})]})]})},N=function(e){var n,t=e.character;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"char__basics",children:[(0,h.jsx)("img",{style:null!==(n=t.thumbnail)&&void 0!==n&&n.includes("image_not_available")?{objectFit:"contain"}:null,src:t.thumbnail,alt:"abyss"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"char__info-name",children:t.name}),(0,h.jsxs)("div",{className:"char__btns",children:[(0,h.jsx)("a",{href:t.homepage,className:"button button__main",children:(0,h.jsx)("div",{className:"inner",children:"homepage"})}),(0,h.jsx)("a",{href:t.wiki,className:"button button__secondary",children:(0,h.jsx)("div",{className:"inner",children:"wiki"})})]})]})]}),(0,h.jsx)("div",{className:"char__descr",children:t.description}),(0,h.jsx)("div",{className:"char__comics",children:"Comics:"}),(0,h.jsxs)("ul",{className:"char__comics-list",children:[t.comics.length?null:"There is no comics with this character",t.comics.map((function(e,n){return(0,h.jsx)("li",{className:"char__comics-item",children:e.name},n)}))]})]})},y=function(e){var n=e.selectedCharacterId,t=(0,r.useState)(null),i=(0,a.Z)(t,2),m=i[0],f=i[1],p=(0,d.i)(function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return b(),e.next=5,l.Z.getCharacter(n);case 5:t=e.sent,f(t);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),v=(0,a.Z)(p,4),_=v[0],x=v[1],j=v[2],b=v[3];(0,r.useEffect)((function(){_(n)}),[n]);var g=m||x||j?null:(0,h.jsx)(k,{}),Z=j?(0,h.jsx)(u.Z,{error:j}):null,y=x?(0,h.jsx)(o.Z,{}):null,C=x||j||!m?null:(0,h.jsx)(N,{character:m});return(0,h.jsxs)("div",{className:"char__info",children:[g,Z,y,C]})},C=t.p+"static/media/vision.067d4ae1936d64a577ce.png",w=function(){var e=(0,r.useState)(null),n=(0,a.Z)(e,2),t=n[0],s=n[1],c=(0,r.useState)(!1),i=(0,a.Z)(c,2),l=i[0],o=i[1];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f,{}),(0,h.jsxs)("div",{className:"char__content",children:[(0,h.jsx)(_,{selectedCharacterId:t,setSelectedCharacterId:function(e){return s(e)},setVisibleBgImage:function(e){return o(e)}}),(0,h.jsx)(Z,{children:(0,h.jsx)(y,{selectedCharacterId:t})})]}),(0,h.jsx)("img",{style:l?null:{display:"none"},className:"bg-decoration",src:C,alt:"vision"})]})}},945:function(e,n,t){t.d(n,{Z:function(){return l}});var a=t(165),r=t(861),s=t(671),c=t(144),i=t(44),l=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,null,[{key:"getCharacters",value:function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){var t,r,s,c=arguments;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:9,r=c.length>1&&void 0!==c[1]?c[1]:210,n.next=4,i.ZP.get("".concat(e._apiBase,"characters?limit=").concat(t,"&offset=").concat(r,"&").concat(e._apiKey));case 4:return s=n.sent,n.abrupt("return",s.data.data.results.map((function(n){return e._transformCharacter(n)})));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{key:"getCharacter",value:function(){var n=(0,r.Z)((0,a.Z)().mark((function n(t){var r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.ZP.get("".concat(e._apiBase,"characters/").concat(t,"?").concat(e._apiKey));case 2:return r=n.sent,n.abrupt("return",e._transformCharacter(r.data.data.results[0]));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},{key:"getAllComics",value:function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){var t,r,s,c=arguments;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:8,r=c.length>1&&void 0!==c[1]?c[1]:210,n.next=4,i.ZP.get("".concat(e._apiBase,"comics?limit=").concat(t,"&offset=").concat(r,"&").concat(e._apiKey));case 4:return s=n.sent,n.abrupt("return",s.data.data.results.map((function(n){return e._transformComics(n)})));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{key:"getComics",value:function(){var n=(0,r.Z)((0,a.Z)().mark((function n(t){var r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.ZP.get("".concat(e._apiBase,"comics/").concat(t,"?").concat(e._apiKey));case 2:return r=n.sent,console.log(r.data.data.results[0]),n.abrupt("return",e._transformComics(r.data.data.results[0]));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}]),e}();l._apiBase="https://gateway.marvel.com:443/v1/public/",l._apiKey="apikey=14c80cf078481fb3ded0db419a38bd66",l._transformCharacter=function(e){return{id:e.id,name:e.name,description:e.description,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}},l._transformComics=function(e){return{id:e.id,title:e.title,issueNumber:e.issueNumber,description:e.description,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,price:e.prices[0].price,pageCount:e.pageCount}}}}]);
//# sourceMappingURL=671.a8e1eb74.chunk.js.map